@model CreatepersonRequest

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center">
        @TempData["Success"]
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center">
        @TempData["Error"]
    </div>
}

<style>
    /* تحسين الخلفية */
    body {
        background: linear-gradient(135deg, #ffebef, #d6f0fa); /* تدرج مؤقت من الوردي الفاتح إلى الأزرق الفاتح */
        /* عندما تحصل على الخلفية، استبدل التدرج بالصورة:
               background-image: url('/css/childish-bg.jpg');
               background-size: cover;
               background-position: center;
               background-attachment: fixed;
            */
        margin: 0;
        padding: 0;
        font-family: 'Poppins', sans-serif;
        position: relative;
    }

        /* إضافة طبقة ضبابية للخلفية */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(3px);
            z-index: -1;
        }

    /* تحسين الكارد */
    .card {
        border-radius: 1.5rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid #ff6b6b;
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

    .card-img {
        height: 100%;
        object-fit: cover;
        border-radius: 1.5rem 0 0 1.5rem;
    }

    /* تحسين النموذج */
    .card-body {
        padding: 2rem 3rem;
        background: linear-gradient(135deg, #ffebef, #e6f9f6);
        border-radius: 0 1.5rem 1.5rem 0;
    }

    .h5 {
        color: #ff6b6b;
        font-weight: 600;
        letter-spacing: 1px;
        margin-bottom: 1.5rem;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }

    /* تحسين حقول الإدخال */
    .form-control {
        border: 2px solid #ff6b6b;
        border-radius: 1rem;
        padding: 0.75rem 1rem;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.8);
        color: #333;
    }

        .form-control:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.3);
            background: #fff;
            outline: none;
        }

        .form-control::placeholder {
            color: #ff8c94;
            font-weight: lighter;
        }

    /* تحسين زر التسجيل */
    .btn-dark {
        background: linear-gradient(90deg, #ff6b6b, #ff8c94);
        border: none;
        border-radius: 1rem;
        padding: 0.75rem;
        font-size: 1.1rem;
        font-weight: bold;
        transition: all 0.3s ease;
        color: white;
        box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
    }

        .btn-dark:hover {
            background: linear-gradient(90deg, #ff8c94, #ff6b6b);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.5);
        }

    /* تحسين زر التسجيل بجوجل */
    .btn-google {
        border: 2px solid #4ecdc4;
        color: #4ecdc4;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 1rem;
        padding: 0.75rem;
        font-size: 1.1rem;
        font-weight: bold;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        box-shadow: 0 3px 10px rgba(78, 205, 196, 0.2);
    }

        .btn-google:hover {
            background-color: #4ecdc4;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .btn-google i {
            font-size: 1.2rem;
        }

    /* تحسين زر تسجيل الدخول */
    .btn-outline-danger {
        border-color: #ff6b6b;
        color: #ff6b6b;
        border-radius: 1rem;
        padding: 0.5rem 1rem;
        font-weight: bold;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 3px 10px rgba(255, 107, 107, 0.2);
    }

        .btn-outline-danger:hover {
            background-color: #ff6b6b;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

    /* تحسين التنبيهات */
    .alert {
        border-radius: 1rem;
        margin: 1rem 0;
        padding: 1rem;
        font-size: 1rem;
        font-weight: 500;
        text-align: center;
    }

    .alert-success {
        background-color: rgba(78, 205, 196, 0.2);
        color: #4ecdc4;
        border: 1px solid rgba(78, 205, 196, 0.3);
    }

    .alert-danger {
        background-color: rgba(255, 107, 107, 0.2);
        color: #ff6b6b;
        border: 1px solid rgba(255, 107, 107, 0.3);
    }

    /* تحسين النصوص */
    .text-muted {
        color: #ff8c94 !important;
        transition: color 0.3s ease;
    }

        .text-muted:hover {
            color: #ff6b6b !important;
        }

    /* ضبط اللوجو */
    .site-logo {
        height: 60px;
        width: auto;
        object-fit: contain;
    }

    /* دعم الوضع الليلي */
    body.dark {
        background: linear-gradient(135deg, #1a1a1a, #343a40); /* تدرج داكن مؤقت */
        /* عندما تحصل على الخلفية، استبدل التدرج بالصورة:
               background-image: url('/css/childish-bg.jpg');
               background-size: cover;
               background-position: center;
               background-attachment: fixed;
            */
    }

        body.dark::before {
            background: rgba(0, 0, 0, 0.4);
        }

        body.dark .card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(52, 58, 64, 0.7));
        }

        body.dark .card-body {
            background: linear-gradient(135deg, #1a1a1a, #343a40);
        }

        body.dark .h5 {
            color: #ff6b6b;
        }

        body.dark .form-control {
            background: rgba(52, 58, 64, 0.8);
            border-color: #ff6b6b;
            color: #ffffff;
        }

            body.dark .form-control:focus {
                border-color: #4ecdc4;
                box-shadow: 0 0 10px rgba(78, 205, 196, 0.3);
                background: #343a40;
            }

            body.dark .form-control::placeholder {
                color: #ff8c94;
            }

        body.dark .text-muted {
            color: #ff8c94 !important;
        }

            body.dark .text-muted:hover {
                color: #ff6b6b !important;
            }

    /* تحسين التصميم على الشاشات الصغيرة */
    media (max-width: 768px) {
        .card

    {
        border-radius: 1rem;
    }

    .card-body {
        padding: 1.5rem;
        border-radius: 1rem;
    }

    .h5 {
        font-size: 1.1rem;
    }

    .btn-dark, .btn-google {
        font-size: 1rem;
        padding: 0.5rem;
    }

    .site-logo {
        height: 50px;
    }

    }
</style>

<form method="post" asp-action="Resgisterperson" asp-controller="Account">
    <div asp-validation-summary="All" class="text-danger"></div>
    <section class="vh-100">
        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col col-xl-10">
                    <div class="card">
                        <div class="row g-0">
                            <div class="col-md-6 col-lg-5 d-none d-md-block">
                                <img src="~/css/kk.jpg" alt="register form" class="img-fluid card-img" />
                            </div>
                            <div class="col-md-6 col-lg-7 d-flex align-items-center">
                                <div class="card-body p-4 p-lg-5 text-black">
                                    <div class="d-flex align-items-center mb-3 pb-1">
                                        <i class="fas fa-cubes fa-2x me-3" style="color: #ff6219;"></i>
                                        <span class="h1 fw-bold mb-0">L3bty</span>
                                    </div>
                                    <h5 class="fw-normal mb-3 pb-3">Create Your Account</h5>
                                    <div class="form-outline mb-4">
                                        <input type="text" id="name" name="Name" class="form-control form-control-lg"
                                               placeholder="Name" required />
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="email" id="email" name="Email" class="form-control form-control-lg"
                                               placeholder="Email" required />
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="password" id="password" name="Password" class="form-control form-control-lg"
                                               placeholder="Password" required />
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="text" id="phone" name="Phone" class="form-control form-control-lg"
                                               placeholder="Phone" required />
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="text" id="address" name="Address" class="form-control form-control-lg"
                                               placeholder="Address" required />
                                    </div>

                                    <div class="pt-1 mb-3">
                                        <button class="btn btn-dark btn-lg btn-block w-100" type="submit">Register</button>
                                    </div>

                                    <div class="text-center mb-4">
                                        <a href="@Url.Action("GoogleLogin", "Account", new { isRegister = true })"
                                           class="btn btn-google btn-lg w-100">
                                            <i class="fab fa-google me-2"></i> Register with Google
                                        </a>
                                    </div>

                                    @section Scripts {
                                        <partial name="_ValidationScriptsPartial" />
                                    }
                                    @{
                                        var errorMessage = Context.Session.GetString("ErrorMessage");
                                        if (!string.IsNullOrEmpty(errorMessage))
                                        {
                                            <div class="alert alert-danger text-center">
                                                @errorMessage
                                            </div>
                                            Context.Session.Remove("ErrorMessage");
                                        }
                                    }

                                    <div class="d-flex align-items-center justify-content-center pb-4">
                                        <p class="mb-0 me-2">Already have an account?</p>
                                        <button type="button" class="btn btn-outline-danger" onclick="window.location.href='Login';">Sign in</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</form>